<!doctype html><html lang=de class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><link rel=canonical type=text/html href=https://test.openbikesensor.org/docs/software/visualization/><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Offline-Visualisierung | OpenBikeSensor</title><meta property="og:title" content="Offline-Visualisierung"><meta property="og:description" content="Überholabstandsmessung für Radfahrende. Open source, open data, open science."><meta property="og:type" content="website"><meta property="og:url" content="https://test.openbikesensor.org/docs/software/visualization/"><meta property="og:site_name" content="OpenBikeSensor"><meta itemprop=name content="Offline-Visualisierung"><meta itemprop=description content="Überholabstandsmessung für Radfahrende. Open source, open data, open science."><meta name=twitter:card content="summary"><meta name=twitter:title content="Offline-Visualisierung"><meta name=twitter:description content="Überholabstandsmessung für Radfahrende. Open source, open data, open science."><link rel=preload href=/scss/main.min.a151df3708dd7b2730c709f426d5bf423041e01344f75e982500ecb458d71075.css as=style><link href=/scss/main.min.a151df3708dd7b2730c709f426d5bf423041e01344f75e982500ecb458d71075.css rel=stylesheet integrity><script src=https://test.openbikesensor.org/js/slider/ideal-image-slider.min.js></script><script src=https://test.openbikesensor.org/js/slider/iis-bullet-nav.js></script><script src=https://test.openbikesensor.org/js/slider/iis-captions.js></script><script src=https://test.openbikesensor.org/js/obs.js></script><link rel=stylesheet href=https://test.openbikesensor.org/css/slider/ideal-image-slider.css><link rel=stylesheet href=https://test.openbikesensor.org/css/slider/themes/default.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/svg+xml sizes=any href=/favicon.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileImage content="/mstile-144x144.png"><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg id="Ebene_1" data-name="Ebene 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42.52 42.52"><polygon points="6.48 10.17 14.66 10.17 14.66 8.17 6.48 8.17 6.48 5.76 4.48 5.76 4.48 12.59 6.48 12.59 6.48 10.17" fill="#fff"/><path d="M18.8 14.62c1.5.0 2.61-1.4 2.61-4.42V8.62c0-3.06-1.11-4.42-2.61-4.42s-2.62 1.36-2.62 4.42V10.2c0 3.02 1.11 4.42 2.62 4.42zm-1-6c0-1.66.35-2.4 1-2.4s1 .74 1 2.4V10.2c0 1.66-.35 2.39-1 2.39s-1-.73-1-2.39z" fill="#fff"/><path d="M24 11.05h.9c1.54.0 2.5-1.17 2.5-3.42s-1-3.29-2.5-3.29h-2.5V14.47H24zm0-4.68h.61c.84.0 1.2.44 1.2 1.26.0 1-.36 1.4-1.2 1.4H24z" fill="#fff"/><polygon points="32.27 12.45 29.68 12.45 29.68 10.24 31.98 10.24 31.98 8.22 29.68 8.22 29.68 6.37 32.27 6.37 32.27 4.34 28.09 4.34 28.09 14.47 32.27 14.47 32.27 12.45" fill="#fff"/><polygon points="36.81 10.03 34.36 4.34 33.09 4.34 33.09 14.47 34.59 14.47 34.59 8.87 37.02 14.47 38.31 14.47 38.31 4.34 36.81 4.34 36.81 10.03" fill="#fff"/><polygon points="36.29 20.07 24.81 20.07 24.81 22.09 36.29 22.09 36.29 24.49 38.31 24.49 38.31 17.66 36.29 17.66 36.29 20.07" fill="#fff"/><path d="M8.52 21a2.72 2.72.0 00.76-2.11c0-1.85-.91-2.69-2.47-2.69H4.49V26.32H7c1.76.0 2.47-1.29 2.47-2.91A2.76 2.76.0 008.52 21zM6.09 18.2h.52c.88.0 1.08.36 1.08 1s-.29.89-.93.89H6.09zm.76 6.1H6.09V22.08h.64c.81.0 1.17.28 1.17 1.1S7.56 24.3 6.85 24.3z" fill="#fff"/><rect x="10.46" y="16.19" width="1.59" height="10.13" fill="#fff"/><polygon points="16.9 26.32 18.8 26.32 16.49 20.29 18.45 16.19 16.6 16.19 14.89 19.95 14.89 16.19 13.3 16.19 13.3 26.32 14.89 26.32 14.89 23.64 15.47 22.43 16.9 26.32" fill="#fff"/><polygon points="23.7 18.22 23.7 16.19 19.52 16.19 19.52 26.32 23.7 26.32 23.7 24.3 21.11 24.3 21.11 22.09 23.41 22.09 23.41 20.07 21.11 20.07 21.11 18.22 23.7 18.22" fill="#fff"/><path d="M7.18 32.11C6.35 31.74 6 31.4 6 30.8s.23-.88.76-.88.92.25 1.18.92l1.18-1.29a2.48 2.48.0 00-2.38-1.66c-1.61.0-2.33 1.25-2.33 2.93A3.15 3.15.0 006.33 34c1 .49 1.25.78 1.25 1.37a.79.79.0 01-.86.88 1.4 1.4.0 01-1.32-.91L4.21 36.66a2.7 2.7.0 002.65 1.66c1.5.0 2.31-1.19 2.31-3A2.94 2.94.0 007.18 32.11z" fill="#fff"/><polygon points="10.04 38.17 14.22 38.17 14.22 36.14 11.63 36.14 11.63 33.94 13.93 33.94 13.93 31.92 11.63 31.92 11.63 30.07 14.22 30.07 14.22 28.04 10.04 28.04 10.04 38.17" fill="#fff"/><polygon points="18.76 33.72 16.3 28.04 15.04 28.04 15.04 38.17 16.54 38.17 16.54 32.56 18.97 38.17 20.26 38.17 20.26 28.04 18.76 28.04 18.76 33.72" fill="#fff"/><path d="M24.1 32.11c-.84-.37-1.18-.71-1.18-1.31s.23-.88.76-.88.92.25 1.18.92L26 29.55a2.49 2.49.0 00-2.38-1.66c-1.62.0-2.34 1.25-2.34 2.93A3.15 3.15.0 0023.24 34c1 .49 1.25.78 1.25 1.37a.79.79.0 01-.85.88 1.41 1.41.0 01-1.33-.91l-1.19 1.28a2.71 2.71.0 002.65 1.66c1.51.0 2.32-1.19 2.32-3A2.94 2.94.0 0024.1 32.11z" fill="#fff"/><path d="M29.42 27.89c-1.51.0-2.61 1.37-2.61 4.42V33.9c0 3 1.1 4.42 2.61 4.42S32 36.92 32 33.9V32.31c0-3.05-1.08-4.42-2.58-4.42zm1 6c0 1.66-.35 2.39-1 2.39s-1-.73-1-2.39V32.31c0-1.66.35-2.39 1-2.39s1 .73 1 2.39z" fill="#fff"/><path d="M38 31.23c0-2.12-1-3.19-2.51-3.19H33V38.17h1.59V34.34h.82l1.11 3.83h1.75L37 33.91a3.08 3.08.0 001-2.68zm-2.7 1.08h-.71V30.07h.71c.64.0 1.1.19 1.1 1.16S36 32.31 35.34 32.31z" fill="#fff"/></svg></span><span class="text-uppercase font-weight-bold">OpenBikeSensor</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/><span class=active>Start</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Dokumentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/map/><span>Karte</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/faq/><span>FAQ</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/verein/><span>Der Verein</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Deutsch</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/en/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>Das ist eine für den Ausdruck optimierte Ansicht des gesamten Kapitels inkl. Unterseiten.
<a href=# onclick="return print(),!1">Druckvorgang starten</a>.</p><p><a href=/docs/software/visualization/>Zur Standardansicht zurückkehren</a>.</p></div><h1 class=title>Offline-Visualisierung</h1><ul></ul><div class=content><p>Dieser Artikel beschreibt das Vorgehen, um offline, also ohne ein voll
funktionsfähiges Portal, eine Visualisierung bestehender Trackdateien
vorzunehmen.</p><p>Dieses Vorgehen ist veraltet. Es funktioniert noch, aber in nächster Zeit wird
mehr Energie in die Weiterentwicklung des Portals gesteckt, da hier durch die
leistungsstärkere Architektur viel mehr Möglichkeiten zur Datenverarbeitung und
Visualisierung bestehen. Dennoch lässt sich mit diesem Vorgehen einiges
erreichen, wenn gerade kein Portal zur Hand ist, oder ein tieferer Einblick
erwünscht ist, als es das stark verarbeitende Portal erlaubt.</p><p>Diese Anleitung sollte mit höchstens kleinen Anpassungen auf allen
Linux-Distributionen und unter macOS funktionieren, sofern Python 3.8 oder
höher verfügbar ist. Hat deine Distribution nur ältere Versionen, schau' doch
mal ob
<a href=https://anaconda.org/>Anaconda</a>/<a href=https://docs.conda.io/projects/conda/en/latest/index.html>Conda</a>
dir hier aushelfen kann, lokal eine andere Version zu installieren. Prüfe deine
Python-Version vorab mit dem Kommando <code>python3 -V</code>.</p><p>Dieser Artikel beschreibt nur die Grundlagen, damit auch Anfänger:innen sich
ihre Daten anzeigen können. Weitere Features und Details sind direkt im
Repository
<a href=https://github.com/openbikesensor/OpenBikeSensor-Scripts/blob/main/docs/obs-face.md>dokumentiert</a>.</p><h2 id=code-holen-und-installieren>Code holen und installieren</h2><p>Im Terminal am gewünschten Zielort das Git-Repository
<a href=https://github.com/openbikesensor/OpenBikeSensor-Scripts>OpenBikeSensor-Scripts</a>
clonen:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone https://github.com/openbikesensor/OpenBikeSensor-Scripts obs-scripts
</code></pre></div><p>Zum Wechseln in das neue Verzeichnis:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#204a87>cd</span> obs-scripts
</code></pre></div><p>Ab sofort müssen alle Kommandos von diesem Verzeichnis aus ausgeführt werden.</p><p>Erstellen einer virtuellen Python-Umgebung zur Installation der Abhängigkeiten
und der Kommandozeilentools:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>python3 -m venv env
<span style=color:#204a87>source</span> env/bin/activate
</code></pre></div><p>Bitte achte darauf, bei Änderungen am Code das Verzeichnis <code>env</code> zu ignorieren
und nicht mit zu committen. Du kannst es auch woanders erstellen (z. B. in
deinem Home-Verzeichnis). Den zweiten Befehl von oben (<code>source ...</code>) musst du
jedes Mal ausführen, nachdem du mit einem neuen Terminal in dieses Verzeichnis
wechselst, bevor du die OBS-Skripte nutzen kannst.</p><p>Installation des <code>obs-face</code> Pakets und dessen Abhängigkeiten:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pip install -e .
</code></pre></div><p>Es dauert eine Weile, bis alles installiert ist. Bei Erfolg erscheint
<em>Successfully installed &mldr;</em> in einer der letzten Zeilen (evtl. gefolgt von
einer Warnung, die du aber ignorieren kannst), bei Misserfolg eine
Fehlermeldung. Wenn du hier Hilfe brauchst, poste die Fehlermeldung im Forum,
dort gibt es immer Unterstützung.</p><h2 id=vorbereiten-der-dateien>Vorbereiten der Dateien</h2><p>Du brauchst nun geschachtelte Ordner innerhalb des Ordners <code>obs-scripts</code>. Diese
erstellst du mit <code>mkdir</code> oder <code>mkdir -p</code>, oder einfach mit der graphischen
Bedienoberfläche deines Betriebssystems.</p><p>Wir benötigen folgende Struktur:</p><pre><code>data
└── input
    ├── user1
    │   ├── track1.csv
    │   └── track2.csv
    └── user2
        ├── track1.csv
        └── track2.csv
</code></pre><p>Also ein Verzeichnis <em>data</em> in <em>obs-scripts</em>, darin wiederum ein Verzeichnis
<em>input</em>, in welchem für jede:n Benutzer:in ein eigener Ordner liegt, der alle
Tracks enthält. Es ist okay, wenn das nur ein Ordner ist, aber wenn du von
mehreren Personen die Tracks einsammelst, kannst du sie hiermit unterscheiden.</p><h2 id=datenverarbeitung>Datenverarbeitung</h2><p>Auf der Kommandozeile, mit aktivierter Python-Umgebung, kannst du nun folgendes
ausführen:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>obs-face -ACV
</code></pre></div><p>Dies dauert eine Weile, denn es werden OpenStreetMap-Daten heruntergeladen, und
dann alle Tracks aus <code>data/input</code> eingelesen und verarbeitet. Du kannst die
Ausgabe dieses Kommandos auf Plausibilität prüfen, um zu sehen ob alle deine
Tracks erkannt und eingelesen wurden.</p><h2 id=visualisierung>Visualisierung</h2><p>Für die folgenden Kommands wechseln wir zunächst ins Unterverzeichnis <code>visualization</code>:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#204a87>cd</span> visualization
</code></pre></div><p>Nun erstellen wir einen symbolischen Link zwischen der Ausgabe der Verarbeitung
und dem Visualisierungscode:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ln -s ../data/visualization json
</code></pre></div><p>Mit Python starten wir einen kleinen Webserver, der es uns erlaubt, das
Ergebnis im Browser zu sehen:</p><pre><code>python -m http.server
</code></pre><p>Nun kannst du in deinem Browser eine dieser Seiten besuchen:</p><ul><li><a href=http://localhost:8000/roads.html>http://localhost:8000/roads.html</a></li><li><a href=http://localhost:8000/measurements.html>http://localhost:8000/measurements.html</a></li></ul></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 OpenBikeSensor contributors – Alle Rechte vorbehalten</small></div></div></div></footer></div><script src=/js/vendor.22ba252866fcfe49eb42a9c35f6ce02fd0329acaa49ff01304d83c75477ae919.js integrity="sha256-IrolKGb8/knrQqnDX2zgL9Aymsqkn/ATBNg8dUd66Rk=" crossorigin=anonymous></script><script src=/js/main.min.ad24b64b9b408e8a77066448b46cc4852b67062bc906a18a31a6967a5b2c3dfe.js integrity="sha256-rSS2S5tAjop3BmRItGzEhStnBivJBqGKMaaWelssPf4=" crossorigin=anonymous></script></body></html>